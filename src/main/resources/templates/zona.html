<!DOCTYPE html>
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security>-->

<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">

<head>
	<meta charset=" utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<title>Vegapp</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&amp;display=swap">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="assets/css/Countries-Select-Menu.css">
	<link rel="stylesheet" href="../css/footer.css">
	<link rel="stylesheet" href="../css/Navigation-Clean.css">
	<link rel="stylesheet" href="../css/input-img.css">
	<link rel="stylesheet" href="../css/signin.css">
</head>

<body>
	<nav class="navbar navbar-light navbar-expand-md mb-5" style="height: 87px;">
		<div class="container-fluid"><a class="navbar-brand text-center" href="#"><img
					class="img-fluid d-xl-flex justify-content-xl-end align-items-xl-start" id="img-logo"
					src="../img/3fbc43ce-787a-47fb-adea-5853915a289f.jpg" width="74" height="81"
					style="height: 68px;margin-left: 42px;"></a><button data-bs-toggle="collapse" class="navbar-toggler"
				data-bs-target="#navcol-1"><span class="visually-hidden">Toggle
					navigation</span><span class="navbar-toggler-icon"></span></button>
			<div class="collapse navbar-collapse" id="navcol-1"></div>
		</div>
	</nav>
	<div class="container" id="container-form" style="max-width: 850px;">
		<div class="row">
			<div class="col-md-12 mb-3" id="bienvenida" style="height: 115px;">
				<h1 class="text-center" style="height: 30px;font-family: Roboto, sans-serif;font-weight: bold;">
					¡Bienvenido a Vegapp!</h1>
				<p class="text-center" style="font-family: Roboto, sans-serif;padding: 0px;text-align: center;">
					<br>Sumate a nuestra comunidad para mantenerte informado y hacer tu aporte para mejorar <br>la
					alimentación y estilo de vida de muchas personas y profesionales.<br><br>
				</p>
			</div>
		</div>
		<div class="row" id="form-sigin" style="height: 455px;margin-top: 8px;">


			<div class="col-md-6" id="form-2" style="margin-top: 55px;">



				<!--    <select id="seleccion-zona" for="provincia"
                    style="font-family: Roboto, sans-serif;text-align: center;margin-left: 50px;height: 34px;margin-top: 27px; width: 100px; max-width: 100px;">
                    <option th:each="provincia:${provincia}" th:value="${provincia}" th:text="${provincia.provincia}">
                    </option>
                </select> -->

				<form action="#" th:action="@{/zona/guardar}" th:object="${zona}" method="POST">
					<input type="hidden" th:field="*{id}" class="form-control">

					<div>
						<!-- <label for="provincias" class="form-label select-label">Provincias</label> --> <br>
						<select name="provincias" id="provincia" class="select" th:field="*{provincia}">
							<option th:text="'Selecione una provincia'" th:value="${provincia}" />
							<option class="form-control" th:each="provincia : ${provincias}"
								th:text="${ provincia.nombre}" th:value="${provincia.nombre}" />
						</select>
						<br><br>
						<!-- <label for="departamentos" class="form-label select-label">Departamento</label> <br> -->
						<select class="select" id="departamento" name="departamentos" th:field="*{departamento}">
							<option th:text="'Selecione un Departamento'" th:value="${departamento}" />
							<option th:fragment="departamentos" th:each="departamento : ${departamentosList}"
								th:value="${departamento.nombre}" th:text="${departamento.nombre}" />
							</option>
						</select>
						<br><br>
						<!-- <label for="ciudades" class="form-label select-label">Ciudades</label> <br> -->
						<select class="select" id="ciudad" name="ciudad" th:field="*{ciudad}">
							<option th:text="'Selecione una Ciudad'" th:value="${ciudad}" />
							<option th:fragment="ciudades" th:each="ciudad : ${ciudadesList}"
								th:value="${ciudad.nombre}" th:text="${ciudad.nombre}">
							</option>
						</select>
						<br><br>
					</div>

					<div class="mb-3">
						<label for="barrio" class="form-label">Barrio</label>
						<input type="text" th:field="*{barrio}" class="form-control" id="barrio">

					</div>
					<br> <br>
					<div class="mb-3">
						<label for="direccion" class="form-label">Dirección</label>
						<input type="text" th:field="*{direccion}" class="form-control" id="direccion">

					</div>
					<button type="submit" class="btn btn-success">Aceptar</button>

					<a class="btn btn-danger" href="/">Volver</a>



				</form>





				<!--    <select id="seleccion-zona" for="ciudad"
                    style="font-family: Roboto, sans-serif;text-align: center;margin-left: 5px;height: 34px;margin-top: 27px; width: 100px; max-width: 100px;"">
                    <option th:each=" ciudad:${ciudad}" th:value="${ciudad}" th:text="${ciudad.ciudad}"></option>
                </select>
                <select id="seleccion-zona" for="departamento"
                    style="font-family: Roboto, sans-serif;text-align: center;margin-left: 5px;height: 34px;margin-top: 27px; width: 100px; max-width: 100px;"">
                    <option th:each=" departamento:${departamento}" th:value="${departamento}"
                    th:text="${departamento.departamento}">
                    </option>
                </select> -->
				<!--	<div class="col-12 mt-3">
					<table class="table table-info">
						<thead>
							<tr>
								<th scope="col">ID</th>
								<th scope="col">Nombre</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="provincia : ${provincias}" }>
								<td><span th:text="${provincia.id}"> Title </span></td>
								<td><span th:text="${provincia.nombre}"> Title </span></td>
							</tr>
						</tbody>
					</table>
				</div> -->

				<button class="btn btn-lg text-center" id="boton-registro" type="submit"
					style="margin-top: 29px;font-family: Roboto, sans-serif;font-weight: bold;text-align: center;width: 182.328px;margin-left: 116px;">Registrarte
				</button>
			</div>
		</div>
	</div>


	<footer class="text-center footer-basic" id="footer"
		style="font-family: Roboto, sans-serif;margin-top: 75px;width: 100%;height: 202px;font-size: 6px;">
		<div class="social" style="height: 51px;"><a href="#"><i class="icon ion-social-instagram"></i></a><a
				href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i
					class="icon ion-social-twitter"></i></a><a href="#" style="max-width: 100%;"><i
					class="icon ion-social-facebook"></i></a></div>
		<ul class="list-inline" style="font-size: 15px;">
			<li class="list-inline-item"><a href="#">Home</a></li>
			<li class="list-inline-item"><a href="#">Services</a></li>
			<li class="list-inline-item"><a href="#">About</a></li>
			<li class="list-inline-item"><a href="#">Terms</a></li>
			<li class="list-inline-item"><a href="#">Privacy Policy</a></li>
		</ul>
		<p class="text-body copyright">Vegapp © 2021</p>
	</footer>
	<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>-->

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
		crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"
		integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js"
		integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/"
		crossorigin="anonymous"></script>

	<!--//// ESTO ES JQUERY QUE MANEJA EL DOM. LAS VISTAS DEL HTML CON JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

	<!--/////ACA VAN LOS JQUERY QUE RECUPERA LOS VALORES. el $("#provincia") es el id del html del elemnto que busco, cuando
	hago el clik(.change) dispara la funcion que evalua si esta nulo(seleccione una prov) lo deja null y sino
	hace una pegada al controlador ("/zona/departamentos") con el valos de la provincia seleccionada como id
	data es lo que devuelve la pegada y se lo asigna al html    -->
	<script>

		$("#provincia").change(function () {
			if (!this.value) {
				$("#departamento").html(null);
				return;
			}
			$.get("/zona/departamentos/" + this.value, function (data) {
				$("#departamento").html(data);
			});
		});

		$("#departamento").change(function () {
			if (!this.value) {
				$("#ciudad").html(null);
				return;
			}
			$.get("/zona/ciudades/" + this.value, function (data) {
				$("#ciudad").html(data);
			});
		});
	</script>

</body>

</html>